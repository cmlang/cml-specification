\documentclass[a4paper,oneside,12pt, extrafontsizes]{memoir}

\usepackage{graphicx}
\usepackage{verbatim}
\usepackage{amsthm}

\theoremstyle{definition}
\newtheorem*{examples}{Examples}

\theoremstyle{definition}
\newtheorem*{concrete-syntax}{Concrete Syntax}

\theoremstyle{definition}
\newtheorem*{abstract-syntax}{Abstract Syntax}

\theoremstyle{definition}
\newtheorem*{constraints}{Constraints}

\renewcommand{\rmdefault}{ppl}
\chapterstyle{demo2}
\renewcommand\partnumberlinebox[2]{#2\hspace{1em}}
\renewcommand\chapternumberlinebox[2]{#2\hspace{1em}}

\usepackage{hyperref}
\hypersetup{pdftex,colorlinks=true,allcolors=blue}
\usepackage{hypcap}

\usepackage{color}
\definecolor{dark_blue}{rgb}{0.0,0.0,0.7}
\definecolor{fielddrab}{rgb}{0.42, 0.33, 0.12}

\usepackage{textcomp}
\usepackage{listings}
\lstset{upquote=true,basicstyle=\footnotesize,frame=single}
\lstdefinelanguage{cml}
{
  identifierstyle=\color{dark_blue},
  morestring=[b]",
  stringstyle=\color{fielddrab},
  morecomment=[l]{--},
  commentstyle = \color{black},
  morekeywords={,abstract,concept,task,association,select,reject,
  yield,recurse,count,first,last,if,then,else,for,in,}
}
\lstdefinelanguage{antlr}
{
  identifierstyle=\color{dark_blue},
  morestring=[b]",
  stringstyle=\color{fielddrab},
  morekeywords={,returns,}
}
\lstdefinelanguage{lsl}
{
  identifierstyle=\color{dark_blue},
  morestring=[b]',
  stringstyle=\color{fielddrab},
  morecomment=[l]{//},
  commentstyle = \color{black},
  morekeywords={,node,select,reject,
  yield,recurse,count,first,last,if,then,else,for,in,}
}
\lstdefinelanguage{ocl_}
{
  identifierstyle=\color{dark_blue},
  morestring=[b]',
  stringstyle=\color{fielddrab},
  morecomment=[l]{--},
  commentstyle = \color{black},
  morekeywords={,self,context,def,inv,pre,post,and,or,implies,derive,body,if,then,else,}
}

\title{\emph{Conceptual Modeling Language}\\Specification\\ \small{Version 1.0 (Draft)}}
\author{Quenio Cesar Machado dos Santos\\
\small{Universidade Federal de Santa Catarina}\thanks{
Initially developed as part of the author's Bachelor Technical Report in Computer Sciences}}
\date{July 2017}

\makeatletter
\newcommand{\verbatimfont}[1]{\renewcommand{\verbatim@font}{\ttfamily#1}}
\makeatother

\makeatletter
\renewcommand*{\p@chapter}{\S\,}
\renewcommand*{\p@section}{\S\,}
\renewcommand*{\p@subsection}{\S\,}
\makeatother

\begin{document}

\begin{titlingpage}
\maketitle
\end{titlingpage}

\frontmatter

\begin{KeepFromToc}

\clearpage
\tableofcontents

\clearpage
\listoffigures

\clearpage
\listoftables

\end{KeepFromToc}

\mainmatter

\part{Language and Compiler}

\chapter{The Language}
\input{intro/intro.tex}

\chapter{The Compiler}
\label{ch:compiler}
\input{compiler/overview.tex}

\section[The Frontend]{The Compiler Frontend}
\label{sec:frontend}
\input{compiler/frontend.tex}

\section[The Backend]{The Compiler Backend}
\label{sec:backend}
\input{compiler/backend.tex}

\chapter{Specification and Notations}
\label{ch:notations}
\input{intro/notations.tex}

\part{Conceptual Modeling}

\chapter{Concepts}
\label{ch:concepts}
\input{definitions/concepts.tex}

\section{Example}
\input{examples/concepts.tex}

\section{Syntax}
\input{syntax/concepts.tex}

\section{Constraints}
\input{constraints/concepts.tex}

\chapter{Properties}
\label{ch:properties}
\input{definitions/properties.tex}

\section{Example}
\input{examples/properties.tex}

\section{Syntax}
\input{syntax/properties.tex}

\section{Constraints}
\input{constraints/properties.tex}

\chapter{Attributes}
\label{ch:attributes}
\input{definitions/attributes.tex}

\section{Example}
\input{examples/attributes.tex}

\section{Syntax}
\input{syntax/attributes.tex}

\chapter{Derived Attributes}
\label{ch:derived-attributes}
\input{definitions/derived_attributes.tex}

\section{Example}
\input{examples/derived_attributes.tex}

\section{Syntax}
\input{syntax/derived_attributes.tex}

\chapter{Associations}
\label{ch:associations}
\input{definitions/associations.tex}

\section{Example}
\input{examples/associations.tex}

\section{Syntax}
\input{syntax/associations.tex}

\section{Constraints}
\input{constraints/associations.tex}

\chapter{Derived Associations}
\label{ch:derived-associations}

\chapter{Generalization / Specialization}
\label{ch:generalization}
\input{definitions/generalization.tex}

\section{Example}
\input{examples/generalization.tex}

\section{Syntax}
\input{syntax/generalization.tex}

\section{Constraints}
\input{constraints/generalization.tex}

\chapter{Abstract Concepts}
\label{ch:abstract}
\input{definitions/abstract.tex}

\section{Example}
\input{examples/abstract.tex}

\section{Syntax}
\input{syntax/abstract.tex}

\section{Constraints}
\input{constraints/abstract.tex}

\part{Type Checking}

\chapter{Types}

\chapter{Primitive Types}
\label{ch:primitive-types}
\input{definitions/primitive_types.tex}

\section{Example}
\input{examples/primitive_types.tex}

\section{Syntax}
\input{syntax/primitive_types.tex}

\section{Constraints}
\input{constraints/primitive_types.tex}

\chapter{Sequence Types}
\label{ch:sequence-types}

\part{Values and Expressions}

\chapter{Expressions}
\label{ch:expressions}
\input{definitions/expressions.tex}

\section{Example}
\input{examples/expressions.tex}

\section{Syntax}
\input{syntax/expressions.tex}

\chapter{Literal Values}
\label{ch:literals}

\chapter{Prefix Expressions}
\label{ch:prefix}

\chapter{Infix Expressions}
\label{ch:infix}

\chapter{Conditional Expressions}
\label{ch:conditionals}

\chapter{Path Expressions}
\label{ch:paths}

\chapter{Query Expressions}
\label{ch:queries}

\part{Code Generation}

\chapter{Templates}
\label{sec:templates}

\chapter{Constructors}
\label{sec:constructors}

\chapter{Tasks}
\label{sec:tasks}

\chapter{Targets}
\label{sec:targets}

\part{Organization and Sharing}

\chapter{Modules}
\label{ch:modules}

\chapter{Libraries}
\label{ch:libraries}

\part{Appendices}

\appendix

\chapter{CML Concrete Syntax (Grammar)}
\label{apx:concrete-syntax}
\input{grammar/grammar.tex}

\chapter{CML Abstract Syntax (Metamodel)}
\label{apx:abstract-syntax}
\input{metamodel.tex}

\chapter{CML Abstract Syntax Tree (Instantiation)}
\label{apx:ast}
\input{ast.tex}

\chapter{CML Constraints (Validations)}
\label{apx:ocl}
\input{ocl/ocl.tex}

\chapter{Language Specification Notation}
\label{apx:lsl}
\input{lsl.tex}

\backmatter

\bibliographystyle{plain}
\bibliography{references}

\end{document}
