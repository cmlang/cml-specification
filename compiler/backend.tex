The backend receives the \emph{CML model AST} as input.
Based on the \emph{target specification} provided by the AST, chooses which \emph{extensible templates} to use for code generation.
The \emph{target files} are then generated, and become available to be consumed by other tools. The \emph{task declaration} plays the key role of determining the kind of \emph{target} to be generated.

CML extensible templates are implemented in StringTemplate \cite{st}.  The CML compiler uses StringTemplate for two purposes:

\begin{itemize}
\item \emph{File names and directory structure:}
each type of target generated by the CML compiler requires a different directory structure.
The CML compiler expects each target type to define a template file named ``files.stg'' (also known as \emph{files template}),
which will contain the path of all files to be generated. The \emph{files template} may use information provided by the \emph{task declaration}
in order to determine the file/directory names.
\item \emph{File content generation:}
each file listed under the \emph{files template} will have a corresponding \emph{content template} that specifies how the file's content must be generated. The \emph{content template} will receive as input one root-level element of the CML model, which will provide information to generate the file's content.
Each type of top-level model element should have a corresponding \emph{content template}. Templates are described in \emph{Code Generation} part of this specification.
\end{itemize}
