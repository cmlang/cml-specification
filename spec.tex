\documentclass[a4paper,oneside,12pt, extrafontsizes]{memoir}

\usepackage{graphicx}
\usepackage{verbatim}
\usepackage{amsthm}
\usepackage{float}

\renewcommand{\rmdefault}{ppl}
\chapterstyle{demo2}
\renewcommand\partnumberlinebox[2]{#2\hspace{1em}}
\renewcommand\chapternumberlinebox[2]{#2\hspace{1em}}

\usepackage{hyperref}
\hypersetup{pdftex,colorlinks=true,allcolors=blue}
\usepackage{hypcap}

\usepackage{color}
\definecolor{dark_blue}{rgb}{0.0,0.0,0.7}
\definecolor{fielddrab}{rgb}{0.42, 0.33, 0.12}

\usepackage{textcomp}
\usepackage{listings}
\lstset{upquote=true,basicstyle=\footnotesize,frame=single}
\lstdefinelanguage{cml}
{
  identifierstyle=\color{dark_blue},
  morestring=[b]",
  stringstyle=\color{fielddrab},
  morecomment=[l]{--},
  commentstyle = \color{black},
  morekeywords={,@abstraction,@concept,@task,@association,
  and,or,xor,implies,unless,xor?,or?,is,isnt,as,as?,as!,if,then,else,for,in,}
}
\lstdefinelanguage{antlr}
{
  identifierstyle=\color{dark_blue},
  morestring=[b]",
  stringstyle=\color{fielddrab},
  morekeywords={,returns,}
}
\lstdefinelanguage{lsl}
{
  identifierstyle=\color{dark_blue},
  morestring=[b]',
  stringstyle=\color{fielddrab},
  morecomment=[l]{//},
  commentstyle = \color{black},
  morekeywords={,node,select,reject,
  yield,recurse,count,first,last,if,then,else,for,in,}
}
\lstdefinelanguage{ocl_}
{
  identifierstyle=\color{dark_blue},
  morestring=[b]',
  stringstyle=\color{fielddrab},
  morecomment=[l]{--},
  commentstyle = \color{black},
  morekeywords={,self,context,def,inv,pre,post,not,and,or,implies,derive,body,if,then,else,}
}

% EspaÃ§amento entre linhas de uma tabela:
\def\arraystretch{1.2}

\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\title{\emph{Conceptual Modeling Language}\\Specification\\ \small{Version 1.0 (Draft)}}
\author{Quenio Cesar Machado dos Santos\\
\small{Universidade Federal de Santa Catarina}\thanks{
Initially developed as part of the author's Bachelor Technical Report in Computer Sciences}}
\date{November 2017}

\usepackage{caption}
\DeclareCaptionType{code}[Listing][Listings]

\renewcommand*\listfigurename{Figures}
\renewcommand*\listtablename{Tables}

\makeatletter
\newcommand{\verbatimfont}[1]{\renewcommand{\verbatim@font}{\ttfamily#1}}
\makeatother

\makeatletter
\renewcommand*{\p@chapter}{\S\,}
\renewcommand*{\p@section}{\S\,}
\renewcommand*{\p@subsection}{\S\,}
\makeatother

\begin{document}

\begin{titlingpage}
\maketitle
\end{titlingpage}

\frontmatter

\begin{KeepFromToc}

\clearpage
\tableofcontents

\clearpage
\listofcodes

\clearpage
\listoffigures

\clearpage
\listoftables

\end{KeepFromToc}

\mainmatter

\part{Language and Compiler}

  \chapter{The Language}
  \input{intro/intro.tex}

  \chapter{The Compiler}
  \input{compiler/overview.tex}

    \section[The Frontend]{The Compiler Frontend}
    \label{sec:frontend}
    \input{compiler/frontend.tex}

    \section[The Backend]{The Compiler Backend}
    \label{sec:backend}
    \input{compiler/backend.tex}

  \chapter{Specification and Notations}
  \label{ch:notations}
  \input{intro/notations.tex}

\part{Conceptual Modeling}

  \chapter{Concepts}
  \label{ch:concepts}
  \input{definitions/concepts.tex}

    \section{Example}
    \input{examples/concepts.tex}

    \section{Syntax}
    \input{syntax/concepts.tex}

    \section{Model Validation}
    \input{validation/concepts.tex}

  \chapter{Properties}
  \label{ch:properties}
  \input{definitions/properties.tex}

    \section{Example}
    \input{examples/properties.tex}

    \section{Syntax}
    \input{syntax/properties.tex}

    \section{Model Validation}
    \input{validation/properties.tex}

  \chapter{Attributes}
  \label{ch:attributes}
  \input{definitions/attributes.tex}

    \section{Example}
    \input{examples/attributes.tex}

    \section{Syntax}
    \input{syntax/attributes.tex}

  \chapter{Derived Attributes}
  \label{ch:derived-attributes}
  \input{definitions/derived_attributes.tex}

    \section{Example}
    \input{examples/derived_attributes.tex}

    \section{Syntax}
    \input{syntax/derived_attributes.tex}

  \chapter{Associations}
  \label{ch:associations}
  \input{definitions/associations.tex}

    \section{Example}
    \input{examples/associations.tex}

    \section{Syntax}
    \input{syntax/associations.tex}

    \section{Model Validation}
    \input{validation/associations.tex}

    \section{Model Translation}
    \input{translation/associations.tex}

  \chapter{Derived Associations}
  \label{ch:derived-associations}
  \input{definitions/derived_assoc.tex}

  \chapter{Generalization / Specialization}
  \label{ch:generalization}
  \input{definitions/generalization.tex}

    \section{Example}
    \input{examples/generalization.tex}

    \section{Syntax}
    \input{syntax/generalization.tex}

    \section{Model Validation}
    \input{validation/generalization.tex}

  \chapter{Abstractions}
  \label{ch:abstract}
  \input{definitions/abstractions.tex}

    \section{Example}
    \input{examples/abstract.tex}

    \section{Syntax}
    \input{syntax/abstract.tex}

    \section{Model Validation}
    \input{validation/abstract.tex}

\part{Expressions}

  \chapter{Expressions}
  \label{ch:expressions}
  \input{definitions/expressions.tex}

    \section{Examples}
    \input{examples/expressions.tex}

    \section{Syntax}
    \input{syntax/expressions.tex}

    \section{Metamodel}
    \input{metamodel/expression.tex}

    \section{Model Synthesis}

    \section{Model Validation}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Literal Expressions}
  \label{ch:literals}
  \input{definitions/literals.tex}

    \section{Examples}
    \input{examples/literals.tex}

    \section{Syntax}
    \input{syntax/literals.tex}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Arithmetic Expressions}
  \label{ch:arithmetic}
  \input{definitions/arithmetic.tex}

    \section{Examples}
    \input{examples/arithmetic.tex}

    \section{Syntax}
    \input{syntax/arithmetic.tex}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}
    \input{validation/arithmetic.tex}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Logical Expressions}
  \label{ch:logical}
  \input{definitions/logical-expr.tex}

    \section{Examples}
    \input{examples/logical-expr.tex}

    \section{Syntax}
    \input{syntax/logical-expr.tex}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}
    \input{validation/logical-expr.tex}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Relational Expressions}
  \label{ch:relational}
  \input{definitions/relational-expr.tex}

    \section{Examples}
    \input{examples/relational-expr.tex}

    \section{Syntax}
    \input{syntax/relational-expr.tex}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}
    \input{validation/relational-expr.tex}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Referential Expressions}
  \label{ch:referential}
  \input{definitions/referential-expr.tex}

    \section{Examples}
    \input{examples/referential-expr.tex}

    \section{Syntax}
    \input{syntax/referential-expr.tex}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}
    \input{validation/referential-expr.tex}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Conditional Expressions}
  \label{ch:conditionals}
  \input{definitions/conditional-expr.tex}

    \section{Examples}
    \input{examples/conditional-expr.tex}

    \section{Syntax}
    \input{syntax/conditional-expr.tex}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}
    \input{validation/conditional-expr.tex}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Type Checking}
  \label{ch:type-checking}
  \input{definitions/type-checking.tex}

    \section{Examples}
    \input{examples/type-checking.tex}

    \section{Syntax}
    \input{syntax/type-checking.tex}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Type Casting}
  \label{ch:type-casting}
  \input{definitions/type-casting.tex}

    \section{Examples}
    \input{examples/type-casting.tex}

    \section{Syntax}
    \input{syntax/type-casting.tex}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{String Concatenation}
  \label{ch:string-concatenation}
  \input{definitions/string-concatenation.tex}

    \section{Examples}
    \input{examples/str-concat.tex}

    \section{Syntax}
    \input{syntax/str-concat.tex}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}
    \input{validation/str-concat.tex}

    \section{Type Inference / Conformance}
    \input{type-inference/str-concat.tex}

    \section{Model Translation}
    \input{translation/str-concat.tex}

  \chapter{Path Expressions}
  \label{ch:paths}
  \input{definitions/paths.tex}

    \section{Examples}
    \input{examples/paths.tex}

    \section{Syntax}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Invocation Expressions}
  \label{ch:invocations}
  \input{definitions/invocations.tex}

    \section{Examples}
    \input{examples/invocations.tex}

    \section{Syntax}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Lambda Expressions}
  \label{ch:lambdas}
  \input{definitions/lambdas.tex}

    \section{Examples}
    \input{examples/lambdas.tex}

    \section{Syntax}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}

    \section{Type Inference / Conformance}

    \section{Model Translation}

  \chapter{Comprehension Expressions}
  \label{ch:comprehensions}
  \input{definitions/comprehensions.tex}

    \section{Examples}
    \input{examples/comprehensions.tex}

    \section{Syntax}

    \section{Metamodel}

    \section{Model Synthesis}

    \section{Model Validation}

    \section{Type Inference / Conformance}

    \section{Model Translation}

\part{Functions}

  \chapter{Built-In Functions}
  \label{ch:built-in-functions}
  \input{definitions/built-in-functions.tex}

  \chapter{Template Functions}
  \label{ch:template-functions}
  \input{definitions/template-functions.tex}

  \chapter{Declared Functions}
  \label{ch:declared-functions}
  \input{definitions/declared-functions.tex}

  \chapter{Comprehension Functions}
  \label{ch:comprehension-functions}
  \input{definitions/comprehension-functions.tex}

\part{Type System}

  \chapter{Types}
  \label{ch:types}
  \input{definitions/types.tex}

  \chapter{Primitive Types}
  \label{ch:primitive-types}
  \input{definitions/primitive_types.tex}

    \section{Example}
    \input{examples/primitive_types.tex}

    \section{Syntax}
    \input{syntax/primitive_types.tex}

  \chapter{Boolean Type}
  \label{ch:boolean}
  \input{definitions/boolean.tex}

  \chapter{Numeric Types}
  \label{ch:numeric-types}
  \input{definitions/numeric.tex}

  \chapter{Floating-Point Types}
  \label{ch:floating-point}
  \input{definitions/floating-point.tex}

  \chapter{String Type}
  \label{ch:string}
  \input{definitions/string.tex}

  \chapter{Reference Types}
  \label{ch:concept-types}
  \input{definitions/concept-types.tex}

  \chapter{Tuple Types}
  \label{ch:tuple-types}
  \input{definitions/tuple-types.tex}

  \chapter{Function Types}
  \label{ch:function-types}
  \input{definitions/function-types.tex}

\part{Code Generation}

  \chapter{Templates}
  \label{sec:templates}

  \chapter{Constructors}
  \label{sec:constructors}

  \chapter{Tasks}
  \label{sec:tasks}

  \chapter{Targets}
  \label{sec:targets}

\part{Organization and Sharing}

  \chapter{Modules}
  \label{ch:modules}

  \chapter{Libraries}
  \label{ch:libraries}

\part{Appendices}

\appendix

  \chapter{CML Concrete Syntax (Grammar)}
  \label{apx:concrete-syntax}
  \input{grammar/grammar.tex}

  \chapter{CML Abstract Syntax (Metamodel)}
  \label{apx:abstract-syntax}
  \input{metamodel.tex}

  \chapter{CML Abstract Syntax Tree (Instantiation)}
  \label{apx:ast}
  \input{ast.tex}

  \chapter{CML Constraints (Model Validation)}
  \label{apx:ocl}
  \input{ocl/ocl.tex}

  \chapter{Language Specification Notation}
  \label{apx:lsl}
  \input{lsl.tex}

\backmatter

\bibliographystyle{plain}
\bibliography{references}

\end{document}
